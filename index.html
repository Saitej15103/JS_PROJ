<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Navbar with Modals</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./index.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand text-white" href="#">Trend Trove</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <button class="nav-btn btn" data-bs-toggle="modal" data-bs-target="#signupModal"
                            id="navbarsignup">Sign Up</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-btn btn" data-bs-toggle="modal" data-bs-target="#loginModal"
                            id="navbarlogin">Login</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="features">
        <div class="container">
            <div class="feature-content">
                <h1>Awesome Features</h1>
                <p>To make you super happy</p>
                <div class="underline"></div>
            </div>
            <div class="container2">
                <div class="feature-description">
                    <h2>Latest Trends</h2>
                    <p>
                        One of the key features of Trend Trove is its ability to help users see the latest trends from
                        different perspectives. By tracking trends across different industries, countries, and
                        demographics, Trend Trove enables users to gain a comprehensive view of what's happening in the
                        world around them. This feature is particularly valuable for professionals in fields such as
                        marketing, business, and finance, who need to stay on top of the latest trends to make strategic
                        decisions.
                    </p>
                </div>

                <div class="feature-image">
                    <img src="./Images/Audience_image.avif" alt="Feature Image" width="360" height="360">
                </div>
            </div>
        </div>
    </section>



    <!-- Signup Modal -->
    <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content signup-modal">
                <div class="modal-header">
                    <h5 class="modal-title" id="signupModalLabel">Sign Up</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="signupmodalform">
                        <div class="mb-3">
                            <label for="signupUsername" class="form-label">Username</label>
                            <input type="text" class="form-control" id="signupUsername"
                                placeholder="Enter your username">
                        </div>
                        <div class="mb-3">
                            <label for="signupEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="signupEmail" placeholder="Enter your email">
                        </div>
                        <div class="mb-3">
                            <label for="signupPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="signupPassword"
                                placeholder="Enter your password">
                        </div>
                        <button type="submit" class="modal-btn btn w-100">Sign Up</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content login-modal">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="loginmodalform">
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="loginEmail" placeholder="Enter your email">
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="loginPassword"
                                placeholder="Enter your password">
                        </div>
                        <button type="submit" class="modal-btn btn w-100">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="./index.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let signupModal = document.getElementById("signupModal");
            let loginModal = document.getElementById("loginModal");

            function removeBackdrop() {
                document.body.classList.remove("modal-open"); // Ensure body does not remain in modal state
                let backdrop = document.querySelector(".modal-backdrop");
                if (backdrop) {
                    backdrop.remove(); // Remove any lingering backdrops
                }
            }

            signupModal.addEventListener("hidden.bs.modal", removeBackdrop);
            loginModal.addEventListener("hidden.bs.modal", removeBackdrop);

            // Ensure backdrop is removed when clicking outside the modal
            signupModal.addEventListener("click", function (event) {
                if (event.target === signupModal) {
                    removeBackdrop();
                }
            });

            loginModal.addEventListener("click", function (event) {
                if (event.target === loginModal) {
                    removeBackdrop();
                }
            });

            // Ensure backdrop is removed when clicking outside the modal after incorrect login
            loginModal.addEventListener("hidden.bs.modal", function () {
                removeBackdrop();
            });
        });
    </script>
</body>

</html>